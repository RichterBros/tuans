/* stylelint-disable-next-line at-rule-no-unknown */
@tailwind base;
/* stylelint-disable-next-line at-rule-no-unknown */
@tailwind components;
/* stylelint-disable-next-line at-rule-no-unknown */
@tailwind utilities;

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 0, 0, 0;
    --background-end-rgb: 0, 0, 0;
  }
}

/* Constrain media to container width by default */
img, video {
  max-width: 100%;
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
}

/* Prevent horizontal scrolling globally */
html, body {
  overflow-x: hidden;
}

/* Material Symbols setup */
.material-symbols-outlined {
  font-family: 'Material Symbols Outlined';
  font-weight: normal;
  font-style: normal;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  -webkit-font-smoothing: antialiased;
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
}

@keyframes fadeInFromTop {
  from {
    opacity: 0;
    transform: translateY(-100px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeInFromTop 0.8s ease-out forwards;
}

.slide-up-from-below {
  animation: slideUpFromBelow 0.7s cubic-bezier(0, 0, 0.2, 1) forwards;
  will-change: transform;
}

@keyframes slideUpFromBelow {
  from {
    transform: translateY(25px);
  }
  to {
    transform: translateY(0);
  }
}

/* Disable transitions until hydration to avoid SSR -> CSR snap */
html:not(.hydrated) .fade-in-trigger,
html:not(.hydrated) .fade-in-from-right,
html:not(.hydrated) .fade-in-from-bottom,
html:not(.hydrated) .fade-in-from-left {
  transition: none !important;
}

/* Additionally, defer animations until full load to avoid route flicker */
html:not(.ready) .fade-in-trigger,
html:not(.ready) .fade-in-from-right,
html:not(.ready) .fade-in-from-bottom,
html:not(.ready) .fade-in-from-left {
  transition: none !important;
}

/* Defer hero heading motion until page is fully ready */
html:not(.ready) .hero-heading-slide-in-right {
  animation: none !important;
  transform: translateX(32px) scale(1.35);
}

.fade-in-trigger {
  opacity: 0;
  transform: translateY(-100px);
  transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}

.fade-in-trigger.visible {
  opacity: 1;
  transform: translateY(0);
}

.fade-in-trigger.delay-500 {
  transition-delay: 0.25s;
}

.fade-in-trigger.delay-1000 {
  transition-delay: 0.5s;
}

/* Ensure hover interactions respond immediately (no delay) */
.fade-in-trigger.visible:hover,
.fade-in-from-right.visible:hover,
.fade-in-from-left.visible:hover {
  transition-delay: 0s !important;
}

.fade-in-from-right {
  opacity: 0;
  transform: translateX(30px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.fade-in-from-right.visible {
  opacity: 1;
  transform: translateX(0);
}

/* Fade in and slide up from bottom for background elements */
.fade-in-from-bottom {
  opacity: 0;
  transform: translateY(24px);
  transition: opacity 0.9s ease-out, transform 0.9s ease-out;
}

.fade-in-from-bottom.visible {
  opacity: 1;
  transform: translateY(0);
}

.fade-in-from-left {
  opacity: 0;
  transform: translateX(-30px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.fade-in-from-left.visible {
  opacity: 1;
  transform: translateX(0);
}

/* Custom navigation shadow */
.nav-shadow {
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.8);
}

/* Light sweep effect for logo */
.logo-container {
  position: relative;
  display: inline-block;
  overflow: hidden;
}

.logo-img {
  display: block;
  max-width: 592px;
  width: 100%;
  height: auto;
}




/* Optional scale modifier for the logo container */
.logo-scale-125 {
  transform: scale(1.25);
  transform-origin: center;
}

/* Double-size modifier for the logo container */
.logo-scale-200 {
  transform: scale(2);
  transform-origin: center;
}

/* Mobile: keep logo within viewport and disable scale-up */
@media (max-width: 767px) {
  .logo-container { max-width: 90vw; }
  .logo-scale-125 { transform: none; }
  .logo-scale-200 { transform: none; }
}

/* AngleCut corner wedges on viewport edges */
.anglecut-wedge {
  position: fixed;
  pointer-events: none;
  z-index: 9999;
  --wedge-size: 72px;
}

.anglecut-wedge-tl {
  top: 0;
  left: 0;
  width: 0;
  height: 0;
  border-top: var(--wedge-size) solid #ffdf32;
  border-right: var(--wedge-size) solid transparent;
}

.anglecut-wedge-br {
  bottom: 0;
  right: 0;
  width: 0;
  height: 0;
  border-bottom: var(--wedge-size) solid #ffdf32;
  border-left: var(--wedge-size) solid transparent;
}

@media (min-width: 768px) {
  .anglecut-wedge { --wedge-size: 88px; }
}

@media (min-width: 1280px) {
  .anglecut-wedge { --wedge-size: 112px; }
}

/* Responsive z-index control for WedgeStack layers */
.wedge-layer {
  position: fixed;
  pointer-events: none;
  max-width: 100vw;
  overflow: hidden;
}
.wedge-bot { z-index: 3500; }
.wedge-mid { z-index: 3501; }
.wedge-top { z-index: 3502; }

/* Hide wedges on mobile */
@media (max-width: 767px) {
  .wedge-layer { display: none; }
}

/* Ensure all site content sits above wedges at all sizes */
.site-content {
  position: relative;
  z-index: 2000;
}

/* Top-left diagonal stripe bands (transparent outside area) */
.wedge-band,
.wedge-band-2,
.wedge-band-3 {
  position: fixed;
  pointer-events: none;
  transform: rotate(-45deg);
  transform-origin: top left;
}

.wedge-band {
  top: -220px;
  left: -220px;
  width: 960px;
  height: 160px;
  background: #ffdf32; /* rich yellow */
  z-index: 1000;
}

.wedge-band-2 {
  top: -260px;
  left: -260px;
  width: 1040px;
  height: 160px;
  background: #ffb700; /* darker */
  z-index: 999;
}

.wedge-band-3 {
  top: -300px;
  left: -300px;
  width: 1120px;
  height: 160px;
  background: #ff9f0a; /* deepest orange */
  z-index: 998;
}

/* Masked overlay contains sparkle + sheen */
.masked-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 2;

  mask-image: url('/tuan-logo-textv2 copy.png');
  mask-size: contain;
  mask-repeat: no-repeat;
  mask-position: center;
  -webkit-mask-image: url('/tuan-logo-textv2 copy.png');
  -webkit-mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
}



/* Sheen movement */
.sheen {
  position: absolute;
  top: 0;
  left: -80%;
  width: 60%;
  height: 100%;
  background: linear-gradient(
    120deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.6) 50%,
    rgba(255, 255, 255, 0) 100%
  );
  transform: skewX(-25deg);
  background-size: 100% 100%;
  transition: left 0.6s ease-in-out;
}

/* Hero image subtle zoom-in on load */
@keyframes heroZoomIn {
  from {
    transform: scale(1.2);
  }
  to {
    transform: scale(1.5);
  }
}

.hero-zoom-in {
  animation: heroZoomIn 1.2s ease-out forwards;
  transform-origin: center;
  will-change: transform;
}

@media (prefers-reduced-motion: reduce) {
  .hero-zoom-in {
    animation: none;
  }
}

/* Hero text starts larger and settles to normal size */
@keyframes heroTextScaleDown {
  from {
    transform: scale(1.08);
  }
  to {
    transform: scale(1);
  }
}

.hero-text-scale-down {
  animation: heroTextScaleDown 0.9s ease-out forwards;
  transform-origin: center;
  will-change: transform;
}

@media (prefers-reduced-motion: reduce) {
  .hero-text-scale-down {
    animation: none;
  }
}

/* Hero text starts smaller and scales up to normal size */
@keyframes heroTextScaleUp {
  from {
    transform: scale(0.94);
  }
  to {
    transform: scale(1);
  }
}

.hero-text-scale-up {
  opacity: 1;
  transform: scale(0.95);
  transform-origin: center;
  will-change: transform;
  animation: heroTextScaleUp 0.9s ease-out forwards;
}

@media (prefers-reduced-motion: reduce) {
  .hero-text-scale-up { animation: none; opacity: 1; }
}

/* Homepage hero heading: slide in slightly from the right */
@keyframes heroHeadingSlideInRight {
  from {
    transform: translateX(32px) scale(1.35);
  }
  to {
    transform: translateX(0) scale(1);
  }
}

.hero-heading-slide-in-right {
  animation: heroHeadingSlideInRight 0.9s cubic-bezier(0.85, 0, 0.15, 1) forwards;
  will-change: transform;
  transform-origin: center;
}

@media (prefers-reduced-motion: reduce) {
  .hero-heading-slide-in-right {
    animation: none;
  }
}

/* About hero image: subtle 2D tilt on load */
@keyframes heroTiltXOnLoad {
  0% {
    transform: rotate(0.5deg);
  }
  40% {
    transform: rotate(-0.5deg);
  }
  70% {
    transform: rotate(0.2deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

/* Teal glow for homepage images (darker, 10px blur, no spread) */
.glow-magenta {
  box-shadow: 0 0 10px 0 rgba(45, 100, 120, 0.9) !important;
}

.hero-tilt-x-onload {
  animation: none;
  transform: rotate(0.5deg);
  transform-origin: center;
  will-change: transform;
}
.hydrated .hero-tilt-x-onload {
  animation: heroTiltXOnLoad 1.4s ease-out forwards;
}

/* About page hero: zoom to current size (no rotation) */
@keyframes heroZoomToOne {
  from { transform: scale(1.06); }
  to { transform: scale(1); }
}

.about-hero-zoom-in {
  transform: scale(1.06);
  transform-origin: center;
  will-change: transform;
  animation: heroZoomToOne 0.9s ease-out forwards;
}

@media (prefers-reduced-motion: reduce) {
  .hero-tilt-x-onload {
    animation: none;
  }
}

/* Yellow trapezoid backdrop for header logos */
/* removed yellow backdrop styles */

/* Ensure list bullets render inside article prose content */
.prose ul {
  list-style-type: disc;
  list-style-position: outside;
  margin-left: 1.25rem;
  padding-left: 1.25rem;
}
.prose ol {
  list-style-type: decimal;
  list-style-position: outside;
  margin-left: 1.25rem;
  padding-left: 1.25rem;
}
.prose li {
  margin-top: 0.25rem;
  margin-bottom: 0.25rem;
}

/* Debug grid helpers (temporary) */
.grid-debug {
  background-image:
    linear-gradient(rgba(0, 0, 0, 0.08) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 0, 0, 0.08) 1px, transparent 1px);
  background-size: 24px 24px, 24px 24px;
  background-position: 0 0, 0 0;
}
.debug-outline > * {
  outline: 1px dashed rgba(0, 0, 0, 0.25);
}

/* Debug grid helpers - red variant for high visibility */
.grid-debug-red {
  background-image:
    linear-gradient(rgba(255, 0, 0, 0.2) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 0, 0, 0.2) 1px, transparent 1px);
  background-size: 24px 24px, 24px 24px;
  background-position: 0 0, 0 0;
}

/* Full-page debug overlay - always on top, no interactions */
.grid-overlay-red {
  background-image:
    linear-gradient(rgba(255, 0, 0, 0.18) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 0, 0, 0.18) 1px, transparent 1px);
  background-size: 24px 24px, 24px 24px;
  background-position: 0 0, 0 0;
}

/* Angled card corners: 45deg on top-left and bottom-right, 90deg on others */
.card-angled {
  --notch-size: 28px;
  clip-path: polygon(
    var(--notch-size) 0,
    100% 0,
    100% calc(100% - var(--notch-size)),
    calc(100% - var(--notch-size)) 100%,
    0 100%,
    0 var(--notch-size)
  );
}

@media (min-width: 768px) {
  .card-angled {
    --notch-size: 44px;
  }
}

@media (min-width: 1280px) {
  .card-angled {
    --notch-size: 56px;
  }
}

/* Variant: only bottom-right corner notched; others square */
.card-angled-br {
  --notch-size: 28px;
  clip-path: polygon(
    0 0,
    100% 0,
    100% calc(100% - var(--notch-size)),
    calc(100% - var(--notch-size)) 100%,
    0 100%,
    0 0
  );
}

@media (min-width: 768px) {
  .card-angled-br {
    --notch-size: 44px;
  }
}

@media (min-width: 1280px) {
  .card-angled-br {
    --notch-size: 56px;
  }
}

/* Button variant: notches at upper-left and lower-right; smaller notch size */
button,
[type="button"],
[type="submit"],
[type="reset"],
a[role="button"],
.btn-angled {
  --btn-notch: 8px;
  clip-path: polygon(
    var(--btn-notch) 0,
    100% 0,
    100% calc(100% - var(--btn-notch)),
    calc(100% - var(--btn-notch)) 100%,
    0 100%,
    0 var(--btn-notch)
  );
}

@media (min-width: 768px) {
  button,
  [type="button"],
  [type="submit"],
  [type="reset"],
  a[role="button"],
  .btn-angled { --btn-notch: 10px; }
}

@media (min-width: 1280px) {
  button,
  [type="button"],
  [type="submit"],
  [type="reset"],
  a[role="button"],
  .btn-angled { --btn-notch: 12px; }
}

/* Outline that follows AngleCut shapes (works with clip-path using drop-shadow) */
.angled-outline {
  /* 1px outline that follows clip-path; uses box-shadow spread */
  box-shadow: 0 0 0 1px rgba(209, 213, 219, 1);
}